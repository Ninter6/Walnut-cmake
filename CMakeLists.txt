cmake_minimum_required(VERSION 3.0.0)

set(CMAKE_CXX_STANDARD 17)

add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/vendor/glfw)
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/vendor/imgui)
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/vendor/glm)

include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/vendor/glfw/include)
include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/vendor/imgui)
include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/vendor/stb_image)
include_directories(BEFORE ${CMAKE_CURRENT_SOURCE_DIR}/Walnut/src)

link_libraries(glfw)
link_libraries(imgui)
link_libraries(glm)

find_library(VULKAN_LIB vulkan REQUIRED)
link_libraries(${VULKAN_LIB})
find_path(VULKAN_HEADER vulkan/vulkan.h REQUIRED)
include_directories(BEFORE ${VULKAN_HEADER})

add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/Walnut)

add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/WalnutApp)
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/RayTracing)
